#---------------------------------------------------------------------#
#                                                                     #
#                        Bihl+Wiedemann GmbH                          #
#                                                                     #
#                                                                     #
#        project: Control III                                         #
#    module name: setting.mak                                         #
#         author: Christian Sommerfeld                                #
#           date: 2011-08-01                                          #
#                                                                     #
#       VCS info:                                                     #
#          $Date: 2011/08/01 16:57:26 $
#      $Revision: 1.0 $
#                                                                     #
#    description:                                                     #
#                                                                     #
#                                                                     #
#---------------------------------------------------------------------#
##### ###### ##### ######
#  ## ##  ## #  ##   ##
##### ##  ## #####   ##
##    ##  ## # #     ##
##    ###### #  #    ##


#+++ Einstellung Port +++
#Beispiel: COM1, COM2, UDP:192.168.42.128

PORT=UDP:192.168.42.130

#---------------------------------------------------------------------#

CTRL= ../../Compiler/Tools/bwctrl.exe
			

.PHONY: header
header:
	echo -en "" \
		"-----------------------\n" \
		" ++++ CONTROL III ++++ \n" \
		"-----------------------\n" \
		"\n"

			
.PHONY: download_ctrl
download_ctrl: header
	$(CTRL) "port $(PORT); ctrl dn control.bin; exit"

.PHONY: start_ctrl
start_ctrl: header
	$(CTRL) "port $(PORT); ctrl wrflags 0x01; exit"

.PHONY: stop_ctrl
stop_ctrl: header
	$(CTRL) "port $(PORT); ctrl wrflags 0x00; exit"
	
.PHONY: zykluszeit_ctrl
zykluszeit_ctrl: header
	$(CTRL) "port $(PORT); ctrl ct; exit"		

.PHONY: auto_start_ctrl
auto_start_ctrl: header
	$(CTRL) "port $(PORT); ctrl wrflags 0x08; exit"
	
.PHONY: auto_stop_ctrl
auto_stop_ctrl: header
	$(CTRL) "port $(PORT); ctrl wrflags 0x04; exit"
	
.PHONY: read_merker
read_merker: header
	$(CTRL) "port $(PORT); ctrl rdmerk 0x00, 0xFF; exit"
	
.PHONY: reset_cycle
reset_cycle: header
	$(CTRL) "port $(PORT); ctrl resetcycle; exit"	
